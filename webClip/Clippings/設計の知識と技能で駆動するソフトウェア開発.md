---
title: 設計の知識と技能で駆動するソフトウェア開発
source: https://speakerdeck.com/masuda220/software-development-driven-by-design-knowledge-and-skills
author:
  - "[[Speaker Deck]]"
published: 
created: 2025-05-06
description: Object Oriented Conference  2024登壇の機会をいただいたので、ここ数年、設計について考えていることを、言語化してみました。はじめに設計と開発プロセスの関係性ソフトウェア設計の知識と技能① ソフトウェア設計の基礎知識a. 基本課題b…
tags:
  - Tech
  - 設計
read:
---
Object Oriented Conference 2024

登壇の機会をいただいたので、ここ数年、設計について考えていることを、言語化してみました。

はじめに

設計と開発プロセスの関係性  
ソフトウェア設計の知識と技能

① ソフトウェア設計の基礎知識  
a. 基本課題  
b. 解決のアプローチ  
c. モジュール化：基本となる４つの技法

② モジュール化  
a. モジュールの分類  
b. オブジェクト指向プログラミングのモジュール化  
c. ドメイン駆動設計のモジュール化

③アプリケーションのモジュール構成（参照モデル）  
コア（中心）  
ポート（境界）  
アダプタ（周辺）

④モデル駆動設計

全体  
事業活動、要件、アーキテクチャ

コア（中央）  
業務ロジック、ドメインモデル  
業務機能、アプリケーションサービス

アダプター（周辺）  
記録モデル、データベーススキーマ  
連係モデル、プロトコル設計  
対話モデル、インタラクション設計

## More Decks by 増田 亨

## Other Decks in Programming

[

「影響が少ない」を自分の目でみてみる

](https://speakerdeck.com/o0h/phpcon-odawara-2025 "「影響が少ない」を自分の目でみてみる")

[o0h](https://speakerdeck.com/o0h)

[PRO](https://speakerdeck.com/pro)

2

1.3k

[

設計の本質：コード、システム、そして組織へ / The Essence of Design: To Code, Systems, and Organizations

](https://speakerdeck.com/nrslib/the-essence-of-design-to-code-systems-and-organizations "設計の本質：コード、システム、そして組織へ / The Essence of Design: To Code, Systems, and Organizations")

[nrslib](https://speakerdeck.com/nrslib)

10

3.5k

[

Glue Studio Visual ETL実装時にハマったこと

](https://speakerdeck.com/kokitamura/glue-studio-visual-etlshi-zhuang-shi-nihamatutakoto "Glue Studio Visual ETL実装時にハマったこと")

[kokitamura](https://speakerdeck.com/kokitamura)

1

110

[

Cursor/Devin全社導入の理想と現実

](https://speakerdeck.com/saitoryc/devinquan-she-dao-ru-noli-xiang-toxian-shi "Cursor/Devin全社導入の理想と現実")

[saitoryc](https://speakerdeck.com/saitoryc)

27

20k

[

On-the-fly Suggestions of Rewriting Method Deprecations

](https://speakerdeck.com/ohbarye/on-the-fly-suggestions-of-rewriting-method-deprecations "On-the-fly Suggestions of Rewriting Method Deprecations")

[ohbarye](https://speakerdeck.com/ohbarye)

1

4.3k

[

ComposeでWebアプリを作る技術

](https://speakerdeck.com/tbsten/composetewebahuriwozuo-ruji-shu "ComposeでWebアプリを作る技術")

[tbsten](https://speakerdeck.com/tbsten)

0

120

[

API for docs

](https://speakerdeck.com/soutaro/api-for-doc "API for docs")

[soutaro](https://speakerdeck.com/soutaro)

3

1.5k

[

カウシェで Four Keys の改善を試みた理由

](https://speakerdeck.com/ike002jp/kausiede-four-keys-nogai-shan-woshi-mitali-you "カウシェで Four Keys の改善を試みた理由")

[ike002jp](https://speakerdeck.com/ike002jp)

1

120

[

SwiftDataのカスタムデータストアを試してみた

](https://speakerdeck.com/1mash0/swiftdatanokasutamudetasutoawoshi-sitemita "SwiftDataのカスタムデータストアを試してみた")

[1mash0](https://speakerdeck.com/1mash0)

0

130

[

Enterprise Web App. Development (1): Build Tool Training Ver. 5

](https://speakerdeck.com/knakagawa/enterprise-web-app-development-1-build-tool-training-ver-3-dot-3 "Enterprise Web App. Development (1): Build Tool Training Ver. 5")

[knakagawa](https://speakerdeck.com/knakagawa)

1

120

[

GitHub Copilot for Azureを使い倒したい

](https://speakerdeck.com/ymd65536/github-copilot-for-azurewoshi-idao-sitai "GitHub Copilot for Azureを使い倒したい")

[ymd65536](https://speakerdeck.com/ymd65536)

1

280

[

Ruby on Railroad: The Power of Visualizing CFG

](https://speakerdeck.com/ydah/ruby-on-railroad-the-power-of-visualizing-cfg "Ruby on Railroad: The Power of Visualizing CFG")

[ydah](https://speakerdeck.com/ydah)

0

270

## Featured

[

Visualization

](https://speakerdeck.com/eitanlees/visualization "Visualization")

[eitanlees](https://speakerdeck.com/eitanlees)

146

16k

[

How to Create Impact in a Changing Tech Landscape \[PerfNow 2023\]

](https://speakerdeck.com/tammyeverts/how-to-create-impact-in-a-changing-tech-landscape-perfnow-2023 "How to Create Impact in a Changing Tech Landscape [PerfNow 2023]")

[tammyeverts](https://speakerdeck.com/tammyeverts)

52

2.4k

[

The Illustrated Children's Guide to Kubernetes

](https://speakerdeck.com/chrisshort/the-illustrated-childrens-guide-to-kubernetes "The Illustrated Children's Guide to Kubernetes")

[chrisshort](https://speakerdeck.com/chrisshort)

48

49k

[

Faster Mobile Websites

](https://speakerdeck.com/deanohume/faster-mobile-websites "Faster Mobile Websites")

[deanohume](https://speakerdeck.com/deanohume)

306

31k

[

Done Done

](https://speakerdeck.com/chrislema/done-done "Done Done")

[chrislema](https://speakerdeck.com/chrislema)

184

16k

[

Speed Design

](https://speakerdeck.com/sergeychernyshev/speed-design "Speed Design")

[sergeychernyshev](https://speakerdeck.com/sergeychernyshev)

29

920

[

The World Runs on Bad Software

](https://speakerdeck.com/bkeepers/the-world-runs-on-bad-software "The World Runs on Bad Software")

[bkeepers](https://speakerdeck.com/bkeepers)

[PRO](https://speakerdeck.com/pro)

68

11k

[

The Power of CSS Pseudo Elements

](https://speakerdeck.com/geoffreycrofte/the-power-of-css-pseudo-elements "The Power of CSS Pseudo Elements")

[geoffreycrofte](https://speakerdeck.com/geoffreycrofte)

75

5.8k

[

4 Signs Your Business is Dying

](https://speakerdeck.com/shpigford/4-signs-your-business-is-dying "4 Signs Your Business is Dying")

[shpigford](https://speakerdeck.com/shpigford)

183

22k

[

Building an army of robots

](https://speakerdeck.com/kneath/building-an-army-of-robots "Building an army of robots")

[kneath](https://speakerdeck.com/kneath)

305

45k

[

Distributed Sagas: A Protocol for Coordinating Microservices

](https://speakerdeck.com/caitiem20/distributed-sagas-a-protocol-for-coordinating-microservices "Distributed Sagas: A Protocol for Coordinating Microservices")

[caitiem20](https://speakerdeck.com/caitiem20)

331

21k

[

Code Review Best Practice

](https://speakerdeck.com/trishagee/code-review-best-practice "Code Review Best Practice")

[trishagee](https://speakerdeck.com/trishagee)

67

18k

## Transcript

1. ### 設計の知識と技能で駆動する ソフトウェア開発 2024年3月24日 有限会社システム設計 増田 亨 Object Oriented カンファレンス 2024
	1
2. ### 自己紹介 業務系アプリケーションソフトウェアの開発者 モデル駆動設計 Java/Spring Boot/IntelliJ IDEA/JIG 有限会社システム設計 代表 コミューン株式会社 技術顧問
	2 増田 亨（ますだ とおる）
3. ### アジェンダ はじめに ①ソフトウェア設計の基礎知識 ②モジュールの設計スタイル ③アプリケーション全体のモジュール構成 ④モデル駆動設計 3 設計の参考情報 私の経験知の言語化と可視化
4. ### はじめに ・設計と開発プロセスの関係性 ・ソフトウェア設計の知識と技能 4
5. ### 設計と開発プロセスの関係性 5 開発活動 システム構造の選択 設計活動 タスク分割 の構造 作業手順 （段取り） 良い設計
	（変更が楽で安全） 生産性 品質保証 設計改善＝開発プロセス改善 開発のやり方は、設計に強く依存する
6. ### ソフトウェア設計の知識と技能 6 共創 経験則 習熟 暗黙的な経験知 技能⇒知識 成功体験 失敗体験 言語化、可視化された経験則
	・設計原則 (文脈に依存しない一般化） ・設計パターン (文脈の類型化） ・体験談 (個別の文脈） 設計の知識と技能を お互いに持ち寄って 組み合わせる 手を動かして 体で覚える 知識⇒技能 制約の多い実際の文脈 相乗効果（三つの掛け算） 足し算ではなく掛け算
7. ### ① ソフトウェア設計の基礎知識 7 a. 基本課題 b. 解決のアプローチ c. 基本となる技法
8. ### a. ソフトウェア設計の基本課題 8 複雑さ 発展性 基本課題 不適切な設計 大きな泥団子 巨大な一枚岩 （モノリス）
	対応できない 本質的な 不必要な複雑さ 変更がやっかいで危険
9. ### b. 解決のアプローチ 9 関心の分離 部品化 モジュール化 関心の分離？ 指針 部品化？ 分割と結合
	大きな泥団子も巨大な一枚岩も なんらかの部品化はやっている （クラス、パッケージ、レイヤ、…） しかし変更がやっかいで危険 広く通用する一般則だが、 具体的なやり方がわからない モジュラー性の向上に焦点を合わせて設計する モジュール化 交換容易性 交換容易性＝変更容易性 別バージョンの部品に差し替え 変更が楽で安全 モジュラー性： 交換しやすさの度合い
10. ### c. モジュラー性の向上：基本となる技法 10 分析モデルと設計モデル 同じ言葉、同じ構造 モデルの差異＝負債 サービス提供の契約 事前条件：利用側の義務 事後条件：提供側の義務 要約
	理解、伝達、再利用 固い容器に閉じ込める 関係するもの→内部 関係しないもの→外部 モジュール設計の 反復的な改善 モデル 要点の抽出 直接的な写像 わかりやすい構造 カプセル化 自立性 仕様 意図の伝達
11. ### ② モジュールの設計スタイル 11
12. ### 設計スタイル a. モジュールの設計スタイルの分類 b. オブジェクト指向プログラミングの設計スタイル c. ドメイン駆動設計の設計スタイル 12
13. ### モジュールの設計スタイルの分類軸 13 XOR XOR XOR XOR XOR システム構築の原理 状態の扱い方 モジュールの用途
	抽象化の方向 AND AND AND ２択 3択 ２択 ２択 A B A B C A B A B
14. ### モジュールの設計スタイルの分類 14 機能 (Function) データ型 (Type) XOR アウトバウンド インバウンド 演算
	XOR XOR 可変 (mutable) 不変 (immutable) XOR ブレーク ダウン ビルド アップ XOR システム構築の原理 状態の扱い方 モジュールの用途 抽象化の方向 AND AND AND ２択 3択 ２択 ２択
15. ### モジュールの設計スタイルの分類 機能 (Function) データ型 (Type) XOR アウトバウンド インバウンド 演算 XOR
	XOR 可変 (mutable) 不変 (immutable) XOR ブレーク ダウン ビルド アップ XOR システム構築の原理 状態の扱い方 モジュールの用途 抽象化の方向 AND AND AND データ型を、型名、有効な値、有効な操作の集合、の三つで要約 例：有限自然数 { > 0; <= MAX; 加算(); 減算(); 乗算(); 除算(); } 抽象データ型によるモジュール化 （設計スタイルの違いを理解する鍵）
16. ### オブジェクト指向プログラミングの 設計スタイル 16 機能 (Function) データ型 (Type) アウトバウンド インバウンド 演算
	可変 (mutable) 不変 (immutable) ブレーク ダウン ビルド アップ システム構築の原理 状態の扱い方 モジュールの用途 抽象化の方向 AND AND AND クラスとメソッドで演算ロジックをモジュール化 抽象データ型＋α subtyping subclassing? 主な用途は演算 (インメモリ) 入出力の記述には向いてない 不変性重視へ 効率→安定性 コストの低下 演算部品⇒組み立て アプリケーション固有の 型を定義して組み合わせる
17. ### ドメイン駆動設計の設計スタイル 17 機能 (Function) データ型 (Type) アウトバウンド インバウンド 演算 可変
	(mutable) 不変 (immutable) ブレーク ダウン ビルド アップ システム構築の原理 状態の扱い方 モジュールの用途 抽象化の方向 AND AND AND 複雑な業務ロジックに焦点を合わせる 抽象データ型＋α 事業活動の観測と測定に 使う業務固有のデータ型 ＋必要な計算判断 主な用途は演算 (インメモリ) 業務ルールに基づく計算判断 不変性重視へ 業務ルールを 宣言的に記述 演算部品⇒組み立て 値オブジェクト ⇒集約 ⇒サービス コアに集中、費用対効果、波及効果
18. ### ③ アプリケーション全体の モジュール構成 18
19. ### ポート＆アダプターアーキテクチャ モック モック 基盤 19 プライマリー アダプター群 セカンダリー アダプター群 業務
	ロジック データベース （内部データソース） 外部サービス （外部データソース） メッセージバス （受信） メール、SNS （通知） テスト シナリオ 外部 システム ジョブ スケジューラ メッセージバス （送信） スマート デバイス SPA Web UI (passive) (active) アダプター アプリケーション
20. ### ポート＆アダプターの設計スタイル • コア（中央） 業務ロジック データ型 & 演算 & 不変 &
	ビルドアップ アプリケーション データ型 & 演算 & 可変 & ブレークダウン • アダプター（周辺） プライマリ 機能 & インバウンド & 可変 & ビルドアップ セカンダリ 機能 & アウトバウンド & 可変 & ビルドアップ 20 設計対象の特性に応じた設計スタイルを選択する
21. ### コア（中央）の分析と設計に投資する アプリケーション 業務 ロジック 本質的な複雑さ （事業活動の複雑さ） 事業活動の最適化を支援 コアに焦点を合わせる 競争優位性 分析モデルと
	設計モデルの一致 業務知識(WHAT） 深い理解(WHY） 反復的な設計活動 （継続的学習） 事業活動の変化と成長 事業活動と歩調を合わせて 変化と成長を続ける 費用対効果、波及効果
22. ### コアの実装：高密度、強度、交換容易性 モック 基盤 22 業務 ロジック データベース （内部データソース） テスト シナリオ
	アプリケーション 複雑な業務ロジック 検証 本番データ テスト シナリオ 検証
23. ### アダプターの実装：必要最小限の設計 モック モック 基盤 23 プライマリー アダプター群 セカンダリー アダプター群 データベース
	（内部データソース） 外部サービス （外部データソース） メッセージバス （受信） メール、SNS （通知） テスト シナリオ 外部 システム ジョブ スケジューラ メッセージバス （送信） スマート デバイス SPA Web UI (passive) (active) アダプター 実績ある設計を再利用 インバウンド アウトバンド 手続き（機能・可変） フレームワーク ライブラリ 実装例
24. ### ④ モデル駆動設計 24 モジュールの設計パターン
25. ### ６つのモデル、６つの設計 全体 1. 事業活動モデル、基本設計 コア（中央） 2. 業務ロジックモデル、ドメインモデルのクラス設計 3. 業務機能モデル、アプリケーションサービスのクラス設計 アダプター（周辺）
	4\. 記録モデル、データベーススキーマ設計 5. 連係モデル、プロトコル設計 6. 対話モデル、インタラクション設計 25
26. ### 事業活動モデルと基本設計 26 目的 制約 基本設計 １．事業活動モデル ・機能要件、非機能要件 ・アーキテクチャの選択 ・開発運用方法の選択 ・開発運用体制の構築と維持
	価値の 共創 価値の 共創 顧客 事業 活動 協力 会社 事業活動の 最適化 最適化 最適化 最適化 事業環境 事業戦略 経営資源
27. ### 事業活動の最適化機会 27 契約履行活動 出荷業務の効率化 サービスレベル vs.コスト 経営資源の有効活用 在庫、機材、設備、人員、… 販売増 vs.
	物理制約、費用増 商談機会の創出 マーケティング活動 費用対効果の最適化 商談活動 営業担当者の 行動最適化 契約条件の調整 価格、納期、支払方法 売上最大化 vs. 利益確保 システム構築の基本目的、複雑な業務ロジックの背景
28. ### コア（中央） 28 ２．業務ロジックモデル ・業務ルールに基づく 計算判断ロジック ・売上最大化とコスト最小化 のために適切な行動を刺激し 不適切な行動を制限する仕組み ３．業務機能モデル ・業務活動の最適化の支援
	・情報の提供 ・計算・判断の自動化 ・記録・通知の自動化 ドメインモデルの クラス設計 アプリケーションサービスの クラス設計 言語化された 経験則
29. ### 分析設計パターン：おすすめ10選 29 事業活動の観測と測定 ・測定値の表現 ・整数型⇒単位付き数値型 ・金額、数量、日付、時刻 範囲演算 ・範囲内、範囲外 ・範囲の重なり ・範囲の合成
	分類と判定 ・区分ごとの定数 ・区分ごとのロジック ・階段関数 状態遷移 ・状態遷移モデル ・制限 ・刺激 集合演算 ・分配ルール ・スキルセットの マッチング 複合条件 ・決定表 ・論理演算の合成 資源管理 ・実在庫、未来在庫 ・過剰予約 ・複合手配 知識の伝達 ・知識の表現 ・会話履歴 ・体系化 最適化 ・目的関数 ・制約条件 契約と当事者 ・権利と義務 ・基本契約と個別契約 ・与信 ドメインモデルのクラス設計 ６/16（日）@新宿野村ビル JJUG CCC 2024 Spring で発表予定 業務ルールを記述するための参考パターン
30. ### アダプター（周辺） 30 データベーススキーマ設計 プロトコル設計 インタラクション設計 ５．連係モデル アプリケーション間連係 ４．記録モデル 事業活動の観測、記録の完全性 ６．対話モデル
	ユーザーインターフェース
31. ### 最後に 31
32. ### ソフトウェア設計の知識と技能 32 共創 経験則 習熟 暗黙的な経験則 技能⇒知識 成功体験 失敗体験 言語化/可視化された経験則
	設計原則 (文脈に依存しない一般化） 設計パターン (文脈の類型化） 体験談 (個別の文脈） 設計の知識と技能を お互いに持ち寄って 組み合わせる 制約の多い実際の文脈で 手を動かして 体で覚える 知識⇒技能 相乗効果（三つの掛け算） 足し算ではなく掛け算